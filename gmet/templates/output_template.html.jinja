<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Prévision Météo -- {{nom}} ({{numDept}}{% if pays != "France" %} - {{pays}}{% endif %})</title>
    <style>
      font-family: Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 100%;

     td, th {
      border: 1px solid #ddd;
      padding: 15px;
    }

    tr:nth-child(even){background-color: #f2f2f2;}
    tr:hover {background-color: #ddd;}

    th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: left;
      background-color: #4CAF50;
      color: white;
    }
    </style>
</head>

<body>

<h1 style="font-weight:bold;text-align:left;">Prévision Météo -- {{nom}} ({{numDept}}{% if pays != "France" %} - {{pays}}{% endif %})</h1>
<table style="border-collapse: collapse;width:400px;" border="1">
<tbody>
<tr>
{% for t in titles %}
  <th>{{t}}</th>
{% endfor %}
</tr>

{% for p in previsions %}
<tr style="font-weight:bold;text-align:center;
      {% if "pluie" in p.description|lower %}
        color:blue;
       {% elif "averse" in p.description|lower %}
        color:blue;
       {% elif "soleil" in p.description|lower %}
        color:orange;
       {% else %}
        color:green;
      {% endif %}
">
  <td>{{p.date}}</td>
  <td>{{p.description}}</td>
  <td>{{p.temperatureMin}} - {{p.temperatureMax}}</td>
  <td></td>
  <td></td>
</tr>
  {% for r in p.timeranges %}
  <tr style="text-align:right;">
    <td>{{r._timerange}}</td>
    <td>{{r.description}}</td>
    {% if r.temperature %}
      <td>{{r.temperature}}</td>
    {% endif %}
    {% if r.temperatureMin and r.temperatureMax %}
      <td>{{r.temperatureMin}} - {{r.temperatureMax}}</td>
    {% endif %}
    <td>{{r.vitesseVent}}</td>
    <td>{{r.probaPluie}}</td>
  </tr>
  {% endfor %}
{% endfor %}
</tbody>
</table>

</body>

</html>